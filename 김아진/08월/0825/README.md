# 0825 - 구현

### [Gold IV] [마법사 상어와 파이어볼](https://www.acmicpc.net/problem/20056) - 20056 

<p><a href="/problem/19237">어른 상어</a>가 마법사가 되었고, 파이어볼을 배웠다.</p>

<p>마법사 상어가 크기가 N×N인 격자에 파이어볼 M개를 발사했다. 가장 처음에 파이어볼은 각자 위치에서 이동을 대기하고 있다. i번 파이어볼의 위치는 (r<sub>i</sub>, c<sub>i</sub>), 질량은 m<sub>i</sub>이고, 방향은 d<sub>i</sub>, 속력은 s<sub>i</sub>이다. 위치 (r, c)는 r행 c열을 의미한다.</p>

<p>격자의 행과 열은 1번부터 N번까지 번호가 매겨져 있고, 1번 행은 N번과 연결되어 있고, 1번 열은 N번 열과 연결되어 있다.</p>

<p>파이어볼의 방향은 어떤 칸과 인접한 8개의 칸의 방향을 의미하며, 정수로는 다음과 같다.</p>

<table class="table table-bordered table-center-10 td-center">
	<tbody>
		<tr>
			<td>7</td>
			<td>0</td>
			<td>1</td>
		</tr>
		<tr>
			<td>6</td>
			<td> </td>
			<td>2</td>
		</tr>
		<tr>
			<td>5</td>
			<td>4</td>
			<td>3</td>
		</tr>
	</tbody>
</table>

<p>마법사 상어가 모든 파이어볼에게 이동을 명령하면 다음이 일들이 일어난다.</p>

<ol>
	<li>모든 파이어볼이 자신의 방향 d<sub>i</sub>로 속력 s<sub>i</sub>칸 만큼 이동한다.

	<ul>
		<li>이동하는 중에는 같은 칸에 여러 개의 파이어볼이 있을 수도 있다.</li>
	</ul>
	</li>
	<li>이동이 모두 끝난 뒤, 2개 이상의 파이어볼이 있는 칸에서는 다음과 같은 일이 일어난다.
	<ol>
		<li>같은 칸에 있는 파이어볼은 모두 하나로 합쳐진다.</li>
		<li>파이어볼은 4개의 파이어볼로 나누어진다.</li>
		<li>나누어진 파이어볼의 질량, 속력, 방향은 다음과 같다.
		<ol>
			<li>질량은 ⌊(합쳐진 파이어볼 질량의 합)/5⌋이다.</li>
			<li>속력은 ⌊(합쳐진 파이어볼 속력의 합)/(합쳐진 파이어볼의 개수)⌋이다.</li>
			<li>합쳐지는 파이어볼의 방향이 모두 홀수이거나 모두 짝수이면, 방향은 0, 2, 4, 6이 되고, 그렇지 않으면 1, 3, 5, 7이 된다.</li>
		</ol>
		</li>
		<li>질량이 0인 파이어볼은 소멸되어 없어진다.</li>
	</ol>
	</li>
</ol>

<p>마법사 상어가 이동을 K번 명령한 후, 남아있는 파이어볼 질량의 합을 구해보자.</p>

<br>

### [Gold III] [마법사 상어와 토네이도](https://www.acmicpc.net/problem/20057) - 20057 

<p><a href="/problem/20056">마법사 상어</a>가 토네이도를 배웠고, 오늘은 토네이도를 크기가 N×N인 격자로 나누어진 모래밭에서 연습하려고 한다. 위치 (r, c)는 격자의 r행 c열을 의미하고, A[r][c]는 (r, c)에 있는 모래의 양을 의미한다.</p>

<p>토네이도를 시전하면 격자의 가운데 칸부터 토네이도의 이동이 시작된다. 토네이도는 한 번에 한 칸 이동한다. 다음은 N = 7인 경우 토네이도의 이동이다.</p>

<p style="text-align: center;"><img alt="" src="https://upload.acmicpc.net/37e7aa13-0f2b-49d6-af68-e745537b1ea3/-/preview/" style="width: 250px; height: 253px;"></p>

<p>토네이도가 한 칸 이동할 때마다 모래는 다음과 같이 일정한 비율로 흩날리게 된다.</p>

<p style="text-align: center;"><img alt="" src="https://upload.acmicpc.net/33b01ca0-4659-49f1-b126-8e042e17d3f1/-/preview/" style="width: 235px; height: 234px;"></p>

<p>토네이도가 x에서 y로 이동하면, y의 모든 모래가 비율과 α가 적혀있는 칸으로 이동한다. 비율이 적혀있는 칸으로 이동하는 모래의 양은 y에 있는 모래의 해당 비율만큼이고, 계산에서 소수점 아래는 버린다. α로 이동하는 모래의 양은 비율이 적혀있는 칸으로 이동하지 않은 남은 모래의 양과 같다. 모래가 이미 있는 칸으로 모래가 이동하면, 모래의 양은 더해진다. 위의 그림은 토네이도가 왼쪽으로 이동할 때이고, 다른 방향으로 이동하는 경우는 위의 그림을 해당 방향으로 회전하면 된다.</p>

<p>토네이도는 (1, 1)까지 이동한 뒤 소멸한다. 모래가 격자의 밖으로 이동할 수도 있다. 토네이도가 소멸되었을 때, 격자의 밖으로 나간 모래의 양을 구해보자.</p>